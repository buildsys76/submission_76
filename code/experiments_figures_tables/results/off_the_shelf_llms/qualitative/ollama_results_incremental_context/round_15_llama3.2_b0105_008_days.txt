import random
from datetime import datetime, timedelta

building_id = 105
primary_use = 'Education'
square_feet = 50623
yearly_mean_kwh = 78.12403
yearly_min_kwh = 23.3036
yearly_max_kwh = 173.945
summer_mean_kwh = 78.177864
winter_mean_kwh = 76.68618

# Generate time interval and meter reading data
start_time = datetime(2016,1,1)
end_time = start_time + timedelta(hours=192*24)

meter_readings = []
hourly_data = []

for hour in range(int((end_time-start_time).total_seconds() / 3600)):
    dt = (datetime(2016, 1, 1) + timedelta(hours=hour)).date()
    
    if (dt.month > 5 or dt.month < 3):
        meter_reading = round(winter_mean_kwh + random.uniform(-10, 10), 4)
    else:
        meter_reading = round(summer_mean_kwh + random.uniform(-10, 10), 4)
        
    # Add to data and ensure meters are within valid range
    if (hour == 0):
        hourly_data.append(f'{dt} {dt.strftime("%H:%M")},{meter_reading}')
    
    while meter_reading < yearly_min_kwh:
        meter_reading += round((yearly_min_kwh - meter_reading)/10,4)
        
    while meter_reading > yearly_max_kwh:
        meter_reading -= round((meter_reading-yearly_max_kwh)/10,4)

    hourly_data.append(f'{dt} {dt.strftime("%H:%M")},{meter_reading}')
    if len(hourly_data) == 192:
        break

for line in hourly_data:
    print(line)
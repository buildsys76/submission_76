import pandas as pd
import numpy as np
from datetime import timedelta, date

def generate_synthetic_data(year, hours_per_day):
    # Initialize lists to hold data and timestamps
    values = []
    timestamps = []

    # Calculate mean kwh per day (yearly_mean_kwh / 365 days)
    mean_kwh_per_day = yearly_mean_kwh / 365.25

    # Loop through each hour in the dataset
    for i in range(hours_per_day):
        current_date = date(year, 1, 1) + timedelta(days=i)

        if (current_date.month in [6, 7, 8]) and (current_date.day >= 1 and current_date.day <= 31):
            # Summer months: average around summer_mean_kwh
            avg_kwh = np.random.normal(summer_mean_kwh, int(10) / 365)
        elif (current_date.month in [12, 1, 2]) and (current_date.day >= 1 and current_date.day <= 28):
            # Winter months: average around winter_mean_kwh
            avg_kwh = np.random.normal(winter_mean_kwh, int(10) / 365)
        else:
            # Other months: interpolate between yearly_min_kwh and yearly_max_kwh
            day_offset = (current_date.day - 1) / 31.0
            avg_kwh = yearly_min_kwh + day_offset * (yearly_max_kwh - yearly_min_kwh)

        # Generate random kwh values within the calculated average
        value = avg_kwh + np.random.normal(0, int(avg_kwh*10))
        if value < yearly_min_kwh:
            value = yearly_min_kwh
        elif value > yearly_max_kwh:
            value = yearly_max_kwh

        # Append timestamp and value to lists
        timestamps.append(current_date.strftime('%Y-%m-%d %H:%M'))
        values.append(value)

    # Return data as a list of strings in the required format
    return '\n'.join(f'{timestamp},{value}' for timestamp, value in zip(timestamps, values))

# Define input parameters
year = 2016
hours_per_day = 576

# Generate synthetic electricity consumption data
synthetic_data = generate_synthetic_data(year, hours_per_day)

print(synthetic_data)
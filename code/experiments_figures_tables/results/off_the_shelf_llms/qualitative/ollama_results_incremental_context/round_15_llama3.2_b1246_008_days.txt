import random
from datetime import timedelta, datetime

def generate_electricity_data(building_id):
    # Define time intervals and their corresponding probabilities for different consumption rates
    time_intervals = {
        'winter': [(12, 16), (0, 4), (18, 20)],
        'summer': [(6, 8), (15, 17), (19, 22)]
    }

    # Initialize data with summary statistics
    yearly_mean_kwh = 46.317394

    data = []
    
    start_date = datetime(2016, 1, 1)
    
    current_hour = None
    
    for i in range(192):
        hour = random.random()
        
        if year == 2016:
            current_year = 2016
        else:
            current_year = 2017
        
        # Determine seasonal probability
        month = (datetime(current_year, 1, 1) + timedelta(days=i)).month
        season = 'winter' if (datetime(current_year, month, 1).month in [12, 1, 2]) else 'summer'
        
        for interval in time_intervals[season]:
            if hour < interval[1] / 24:
                current_hour = random.uniform(interval[0], interval[1])
                break
        
        # Generate kWh value based on seasonal probability and consumption rate
        if season == 'winter':
            avg_kwh = winter_mean_kwh
        else:
            avg_kwh = summer_mean_kwh
            
        # Apply additional noise to the consumption rate for realism
        kwh_value = round(random.uniform(avg_kwh * 0.9, avg_kwh * 1.1), 3)
        
        data.append(f"{start_date.strftime('%Y-%m-%d %H:%M')}, {kwh_value}")

        # Increment time by one hour
        start_date += timedelta(hours=1)

    return '\n'.join(data)


year = 2016
winter_mean_kwh = 46.382324
summer_mean_kwh = 42.024456

print(generate_electricity_data(1246))